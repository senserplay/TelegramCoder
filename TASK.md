Telegram-бот для коллективной построчной
генерации кода через голосования

Цель: реализовать бота, который генерирует 4
варианта следующей строки кода (через LLM), публикует их в Telegram-опросе,
копит результаты голосования, из этих строк собирает файл с кодом.

Основной функционал бота
Генерация опроса: 4 опции синтаксически корректной строки кода на
основе истории чата (предыдущих опросов); длина каждой ≤ 95 символов;
Обработка голосов: обновление результатов по мере прихода poll/poll_answer,
закрытие опроса по таймеру или по команде.
Персистентность: хранилище истории опросов по чатам;
восстановление после рестартов.
Сборка текущего кода: выбор победившей опции в каждом завершённом опросе

Команды бота

/start (только админ): очистка истории
конкретного чата и немедленная отправка первого опроса.

/code (всем): показать текущий код чата (как текст, c Markdown-кодблоком).

/code_completed (админ): “доделать” код до компилируемого (через LLM) без добавления
новой логики; вернуть текст и файл.

/sendnow (админ): отправить следующий опрос немедленно

/health (админ): показать uptime, статус планировщика, наличие активных опросов/
время до следующего.

/logs, /alllogs (админ): показать последние ~100 строк лога / отправить весь лог.

Критерии оценки
Функционал: реализованы обязательные команды и сценарии, опросы работают,
история сохраняется.
Надежность: корректное восстановление после рестартов, управление активными
опросами, обработка ошибок.
Качество кода: структура, читаемость, логирование, отсутствие блокировок.
LLM: генерация опций по истории, корректная “доделка” кода без изменения логики.
Документация: понятный README, пример .env, инструкции запуска.